import * as Services from '{{{outputDirImport}}}/services.types';
import { enumerate } from 'ts-transformer-enumerate';
import * as MoleculerTs from 'moleculer-ts';

const meta: any = {
{{#serviceNames}}
  '{{.}}': {
    actionsLength: Object.keys(enumerate<MoleculerTs.GetAllNameKeysAndLength<Services.{{.}}.DerivedActions>>()).length -1,
    eventsLength: Object.keys(enumerate<MoleculerTs.GetAllNameKeysAndLength<Services.{{.}}.DerivedEvents>>()).length -1,
    actionsEnum: enumerate<MoleculerTs.GetNames<Services.{{.}}.DerivedActions>>()
  },
{{/serviceNames}}
};

console.log(JSON.stringify(meta));
